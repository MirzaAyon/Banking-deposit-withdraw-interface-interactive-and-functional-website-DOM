<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bank Website</title>
    <!-- css link-->
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>

    <header>
        <h1 class="text-5xl text-center mt-8 text-red-600">Transaction <span class="font-semibold text-green-600">
                Details</span></h1>
    </header>
    <main class="w-3/4 mx-auto">
        <!-- balance and transaction-->
        <section class="mt-8  ">
            <div class="grid grid-cols-3 gap-4  text-white">
                <div class="bg-blue-300 p-8 rounded">
                    <h3 class="text-2xl">Deposit</h3>
                    <h4 class="text-4xl">$<span id="deposit-total">00</span> </h4>
                </div>
                <div class="bg-green-300 p-8 rounded">
                    <h3 class="text-2xl">Withdraw</h3>
                    <h4 class="text-4xl">$<span id="withdraw-total">
                            00
                        </span> </h4>
                </div>
                <div class="bg-red-300 p-8 rounded">
                    <h3 class="text-2xl">Balance</h3>
                    <h4 class="text-4xl">$<span id="balance-total">1000</span> </h4>
                </div>

            </div>
        </section>

        <!-- deposit and withdraw -->
        <section class="mt-8 ">
            <div class="grid grid-cols-2 gap-4">
                <div class="bg-red-100 p-8 rounded">
                    <h3 class="text-2xl">Please deposit</h3>
                    <div>
                        <input type="text " class="border  block border-rose-600 rounded mb-4 w-3/4 px-2 "
                            id="deposit-input" placeholder="$ amount you want to deposit">


                        <button id="deposit-button"
                            class="bg-yellow-600 px-4 rounded py-2 text-white font-medium ">Deposit</button>
                    </div>

                </div>
                <div class="bg-purple-100 p-8 rounded">
                    <h3 class="text-2xl">Please withdraw</h3>
                    <div>
                        <input type="text " class="border  block border-rose-600 rounded mb-4 w-3/4 px-2 "
                            id="withdraw-input" placeholder="$ amount you want to withdraw">


                        <button id="withdraw-button"
                            class="bg-yellow-600 px-4 rounded py-2 text-white font-medium ">Withdraw</button>
                    </div>

                </div>
            </div>
        </section>
    </main>

    <script>

        function getInputValue(inputId) {
            const inputField = document.getElementById(inputId);
            const inputAmountText = inputField.value;

            const amountValue = parseFloat(inputAmountText);
            inputField.value = '';
            return amountValue;



        }

        function updateTotalField(totalFieldId, amount) {
            // debugger;
            const totalElement = document.getElementById(totalFieldId);
            const totalText = totalElement.innerText;

            const previousTotal = parseFloat(totalText);
            totalElement.innerText = previousTotal + amount;
        }

        function updateBalance() {
            const balanceTotal = document.getElementById('balance-total');
            const balanceTotalText = balanceTotal.innerText;
            const previousBalanceTotal = parseFloat(balanceTotalText);
            const newBalanceTotal = previousBalanceTotal + newDepositAmount;
            balanceTotal.innerText = newBalanceTotal;
        }




        // handle deposit button event
        document.getElementById('deposit-button').addEventListener('click', function () {


            const newDepositAmount = getInputValue('deposit-input'); //call kore dilam



            updateTotalField('deposit-total', newDepositAmount);

            // update account balance 
            // const balanceTotal = document.getElementById('balance-total');
            // const balanceTotalText = balanceTotal.innerText;
            // const previousBalanceTotal = parseFloat(balanceTotalText);
            // const newBalanceTotal = previousBalanceTotal + newDepositAmount;
            // balanceTotal.innerText = newBalanceTotal;

            updateBalance();

        });

        // handle withdraw event handler and button
        document.getElementById('withdraw-button').addEventListener('click', function () {



            const newWithdrawAmount = getInputValue('withdraw-input'); //call kore dilam


            updateTotalField('withdraw-total', newWithdrawAmount);

            // update balance
            const balanceTotal = document.getElementById('balance-total');
            const previousBalanceText =
                balanceTotal.innerText;
            const previousBalanceTotal = parseFloat(previousBalanceText);
            const newBalanceTotal = previousBalanceTotal - newWithdrawAmount;

            balanceTotal.innerText = newBalanceTotal;


        })

    </script>
</body>

</html>